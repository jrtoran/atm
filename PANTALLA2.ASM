; CONTROL DE LA SEGUNDA PANTALLA
; ESTO ES SOLO PARA AJUSTE DEL CIRCUITO
; PONER A UNO EL PRUERTO C_2 LINEA ENABLE PREDEFINIDO EN RUTINA PARAMETROS
; linea 1-128 DIRECION 0C0
; linea 2-192 DIRECION 0D0	
; linea 3-148 DIRECION 0E0
; linea 4-212 DIRECION 0F0

	.equ			TEXTO_LCD2_1	=0x100		; TEXTO "LINEA 1"
	.equ			TEXTO_LCD2_2	=0x114		; TEXTO "LINEA 2"
	.equ			TEXTO_LCD2_3	=0x128		; TEXTO "LINEA 3"
	.equ			TEXTO_LCD2_4	=0x13C		; TEXTO "LINEA 4"
	.equ			TEXTO_LCD2_5	=0x150		; TEXTO "LINEA 5"
	.equ			TEXTO_LCD2_6	=0x164		; TEXTO "LINEA 6"
	.equ			TEXTO_LCD2_7	=0x178		; TEXTO "LINEA 7"
	.equ			TEXTO_LCD2_8	=0x18C		; TEXTO "LINEA 8"
	.equ			TEXTO_LCD2_9	=0x1A0		; TEXTO "LINEA 9" MUESTRA "PRODUCION POR CELDA"
	.equ			TEXTO_LCD2_10	=0x1B4		; TEXTO "LINEA 10"MUESTRA "1-20 2-19 3-20 4-21"
	.equ			TEXTO_LCD2_11	=0x1C8		; TEXTO "LINEA 11"MUESTRA " TENSION POR CELDA "
	.equ			TEXTO_LCD2_12	=0x1DC		; TEXTO "LINEA 12"MUESTRA " 5,1  5,0  5,1  4,9"

PANTALLA2_A:		; LINEA1 POSICION EN RAM 0X150

	LDI				R16, 128			; 11000000 escribir en linea 1 
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_1)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_1)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	


	LDI				R16, 192			; 11000000 escribir en linea 2
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_2)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_2)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	


	LDI				R16, 148			; 11000000 escribir en linea 3
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_3)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_3)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	


	LDI				R16, 212			; 11000000 escribir en linea 4
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_4)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_4)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	
	RET




PANTALLA2_B:		; LINEA1 POSICION EN RAM 0X150

	LDI				R16, 128			; 11000000 escribir en linea 1 
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_5)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_5)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	


	LDI				R16, 192			; 11000000 escribir en linea 2
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_6)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_6)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	


	LDI				R16, 148			; 11000000 escribir en linea 3
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_7)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_7)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	

; PRESENTA LOS VALORES DE PH REDOX Y CLORO
	LDS				R24, RAMP_PH
	CALL			RADC
	STS				$18E, R1
	STS				$18F, R2
	STS				$191, R3
	LDS				R24, RAMP_CL
	CALL			RADC
	STS				$19D, R2
	STS				$19F, R3
	LDS				R24, RAMP_RD
	CALL			RADC5I
	STS				$196, R1
	STS				$197, R2
	STS				$198, R3

	LDI				R16, 212			; 11000000 escribir en linea 4
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_8)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_8)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	
	RET


PANTALLA2_C:		; LINEA1 POSICION EN RAM 0X1A0

	LDI				R16, 128			; 11000000 escribir en linea 1 
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_9)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_9)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	


	LDI				R16, 192			; 11000000 escribir en linea 2
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_10)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_10)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	


	LDI				R16, 148			; 11000000 escribir en linea 3
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_11)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_11)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	


	LDI				R16, 212			; 11000000 escribir en linea 4
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_12)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_12)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	
	RET

PANTALLA2_D:  ;BORRAR LINEA 
; EN R16 INICIO DE LINEA 128-192-148- 0-210
	CALL			ENVINT_2
	LDI				YH, HIGH (TEXTO_LCD2_12)	; POSICION ALTA DEL TAXTO EN RAM 080
	LDI				YL, LOW  (TEXTO_LCD2_12)	; direccion BAJA DEL TEXTO EN RAM      	
  	LDI				R17,20   			; bytes a enviar 
	CALL			ENVIARTEXTO_2	
	RET
	
